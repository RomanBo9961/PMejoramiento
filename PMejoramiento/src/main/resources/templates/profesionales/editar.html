<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Editar Cita</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="p-5">
	<div class="container">
		<h2>Editar Cita</h2>
		<form th:action="@{/citas/actualizar/{id}(id=${cita.id})}" th:object="${cita}" method="post" class="row g-3">
			<div class="col-md-6">
				<label>Usuario</label>
				<select class="form-control" th:field="*{usuario}" required>
					<option th:each="usuario : ${usuarios}" th:value="${usuario.id}"
						th:selected="${cita.usuario?.id == usuario.id}"
						th:text="${usuario.nombre + ' - ' + usuario.email}"></option>
				</select>
			</div>
			<div class="col-md-6">
				<label>Servicio</label>
				<select class="form-control" th:field="*{servicio}" required>
					<option th:each="servicio : ${servicios}" th:value="${servicio.id}"
						th:selected="${cita.servicio?.id == servicio.id}"
						th:text="${servicio.nombre + ' - $' + servicio.precio}"></option>
				</select>
			</div>
			<div class="col-md-6">
				<label>Profesional</label>
				<select class="form-control" th:field="*{profesional}" required>
					<option th:each="profesional : ${profesionales}" th:value="${profesional.id}"
						th:selected="${cita.profesional?.id == profesional.id}" th:text="${profesional.especialidad}">
					</option>
				</select>
			</div>
			<div class="col-md-6">
				<label>Fecha y Hora</label>
				<input type="datetime-local" class="form-control" th:field="*{fechaHora}" required>
			</div>
			<div class="col-md-12">
				<label>Estado</label>
				<select class="form-control" th:field="*{estado}" required>
					<option value="Pendiente">Pendiente</option>
					<option value="Confirmada">Confirmada</option>
					<option value="Completada">Completada</option>
					<option value="Cancelada">Cancelada</option>
				</select>
			</div>
			<div class="col-12">
				<button type="submit" class="btn btn-primary">Actualizar Cita</button>
				<a href="/citas" class="btn btn-secondary">Cancelar</a>
			</div>
		</form>
	</div>
</body>

</html>